pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- main
circles = {}
function _init()
 for i=1,20 do
  add(circles,
  make_circle(
   rnd(256)-128,
   rnd(128)-64
   )
  )
 end
  
 music(0,10000)
end

local offset = {
 x = 64,
 y = 64,
}

function _update()
	if btn(⬅️) then
	 offset.x+=1
	elseif btn(➡️) then
	 offset.x-=1
	elseif btn(⬆️) then
	 offset.y+=1
	elseif btn(⬇️) then
	 offset.y-=1
	end
	
	pupdate()
	
end

function dcircle(c) 
 circfill(c.x+offset.x, 
  c.y+offset.y, 
  c.size, 
  15)
end

function _draw()
 cls(4)
 foreach(circles, dcircle)
 pdraw()
end


-->8
-- circles
function make_circle(x, y) 
 return {
  x = x,
  y = y,
  size = 5 + rnd(10),
 }
end
-->8
-- player 
local direction = { 
 down = 1,
 up   = 17,
 left = 33,
} 

player = {
 x = 64,
 y = 64,
 sprite = direction.left,
 frame = 0,
 timing = 0.35,
 flip = false,
}

function pupdate()
 if btn(⬅️) then
	 player.sprite = direction.left +
	  player.frame
	 player.flip = false
	 fupdate()
	elseif btn(➡️) then
	 player.sprite = direction.left +
	 player.frame
	 player.flip = true
	 fupdate()
	elseif btn(⬆️) then
	 player.sprite = direction.up +
	  player.frame
	 player.flip = false
	 fupdate()
	elseif btn(⬇️) then
	 player.sprite = direction.down +
	  player.frame
	 player.flip = false
	 fupdate()
	end
end

function fupdate() 
 player.frame+=player.timing
 if player.frame > 4 then
 player.frame = 0
 end
 
end

function pdraw()
 spr(player.sprite,
  player.x, 
  player.y, 
  1, 
  1,
  player.flip)
end
__gfx__
00000000065005600566665006500560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666606636636606666660065005600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700663663666666666666366366066666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000666666666656656666666666663663660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000665665655665566556566566666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700666556650666666056655666665665660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666600650056006666660566556650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055006600000000006600550066666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055006500000000005600050056666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666600560065006666660666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000656666560666666065666656665555660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000665555666666666666555566656666560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000566666666655556666666665565555650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000065555656566665656555560066666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066666605655556506666660065005600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000066005500666666005500660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000006000000056000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000005600063656600000560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000006366665666666500636666000005600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000056666555565666656666655006365660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000556566660056656555656666056666650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005665650066566600566565556566660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000006656660005665000665666005665650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000665500000000000055660006656660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001100000e0500e0500e0501505015050150501105011050110501305013050130500e0500e0500e0501505015050150501105011050110501305013050130501105011050110501105010050100501005010050
001000001112028000266002960028000260002400023000180002d000230001f0002d000290002b0000c0000c0000c0000c0000c0000c0000c0000c0000c0000c0000c0000c0000c0000c0000c0000c00000000
001000002100021000210002100021000210002100021000210002100021000210002100021000210002100010000100001000010000100001000010000100001000010000100001000010000100001000010000
00110000110002b0002b0002b00029000290002900029000280002800028000280002600026000260002600023000230002300023000240002400024000240002100021000210002100023000230002300000000
__music__
03 01024344

